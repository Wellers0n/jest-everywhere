import { CodeSurfer, CodeSurferColumns, Step } from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";
import jestImg from "./images/jest.png";
import featureCoverageImg from "./images/feature-coverage.png";
import featureFastImg from "./images/feature-fast.png";
import snapshotExampleImg from "./images/snapshot-example.png";
import featureMockingImg from "./images/feature-mocking.png";
import testPyramidImg from "./images/test-pyramid.png";
import kentCDoddsImg from "./images/kent-c-dodds.png";
import loginScreenImg from "./images/login-screen.png";
import loginScreenRequiredInputImg from "./images/login-screen-required-input.png";
import loginScreenOnchangeInputImg from "./images/login-screen-onchange-input.png";
import { Intro } from "./components/Intro.js";

export const theme = vsDark;

# Jest everywhere

<img src={jestImg} width={300} height={300} alt="jest" />

---

<Intro />

---

# OVERVIEW

- Why jest ?
- How to test on the frontend ?
- How to test on backend ?
- How to do e2e tests with docker ?

---

# Why jest ?

- Zero config
- Snapshots
- Isolated Tests
- Fast and safe
- Code coverage
- Easy mocking
- Community

---

<CodeSurfer>

```json title="Zero config" subtitle="Nestjs jest config"
{
  "jest": {
    "moduleFileExtensions": ["js", "json", "ts"],
    "rootDir": "src",
    "testRegex": ".spec\\.ts$",
    "testPathIgnorePatterns": ["/node_modules/", "-e2e.spec.ts$"],
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": ["**/*.(t|j)s"],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node",
    "moduleNameMapper": {
      "^@/(.*)$": "<rootDir>/../src/$1" // absolute path
    }
  }
}

```

```diff 1[10:14],3:15

```

</CodeSurfer>

---

<CodeSurfer>

```js title="Snapshots" subtitle="React component example"

exports[`renders correctly 1`] = `
<a
  className="normal"
  href="http://www.facebook.com"
  onMouseEnter={[Function]}
  onMouseLeave={[Function]}
>
  Facebook
</a>
`;

```

</CodeSurfer>

---

# Snapshot example

<img src={snapshotExampleImg} width={1250} height={1250} alt="snapshot example" />

---

# Fast and safe

<img src={featureFastImg} width={1250} height={1250} alt="feature fast" />

---

# Code coverage

<img src={featureCoverageImg} width={1250} height={1250} alt="feature coverage" />

---

# Easy mocking

<img src={featureMockingImg} width={1250} height={1250} alt="Easy mocking" />

---

# Community

<img src={kentCDoddsImg} width={1250} height={1250} alt="Community" />

---

# It works with projects using

- TypeScript
- Node
- React
- Next.JS
- Angular
- Vue
- Nest.JS

---

# Pyramid

<img src={testPyramidImg} width={1050} height={1000} alt="Community" />

---

# How to test in frontend

- What to test?
- How to test?
- Using Mock Service Worker (MSW)


---

# What to test?

<img src={loginScreenImg} width={1300} height={1300} alt="login screen" />

---

# What to test?

<img src={loginScreenRequiredInputImg} width={1300} height={1300} alt="login screen required input" />

---

# What to test?

<img src={loginScreenOnchangeInputImg} width={1300} height={1300} alt="login screen on change input" />

---

<CodeSurferColumns themes={[vsDark, github]}>

<Step>

```js
const magna = (aliqua) => aliqua.ut((enim, ad) => enim, 0);
```

```js
const minim = (ad, enim) => dolore.magna(ad / enim);
```

</Step>

<Step>

```js
const lorem = (ipsum, dolor, sit) => {
  const amet = dolor - ipsum;
  return consectetur.adipiscing(
    {
      elit: sed.eiusmod(sit - dolor) / amet + 2,
    },
    (tempor, incididunt) => ipsum + amet * incididunt
  );
};

const magna = (aliqua) => aliqua.ut((enim, ad) => enim, 0);
```

```js
const minim = (ad, enim) => dolore.magna(ad / enim);

const sed = (eiusmod, tempor, incididunt) => {
  const ut = tempor - eiusmod;
  return labore.et(
    {
      amet: dolore.magna(incididunt - tempor) / ut + 2,
    },
    (aliqua, elit) => eiusmod + ut * elit
  );
};
```

</Step>

</CodeSurferColumns>

---

docs:  
[codesurfer.pomb.us](https://codesurfer.pomb.us)

---

<CodeSurfer>

```js title="This is a title" subtitle="and this a subtitle"
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null ? 0 : ipsum.sit;
  dolor = sit - amet(dolor);
  return sit
    ? consectetur(ipsum, 0, dolor < 0 ? 0 : dolor)
    : [];
}

function incididunt(ipsum, ut = 1) {
  ut = labore.et(amet(ut), 0);
  const sit = ipsum == null ? 0 : ipsum.sit;

  if (!sit || ut < 1) {
    return [];
  }

  let dolore = 0;
  let magna = 0;
  const aliqua = new eiusmod(labore.ut(sit / ut));

  while (dolore < sit) {
    aliqua[magna++] = consectetur(
      ipsum,
      dolore,
      (dolore += ut)
    );
  }

  return aliqua;
}
```

```js
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null ? 0 : ipsum.sit;
  dolor = sit - amet(dolor);
  return sit
    ? consectetur(ipsum, 0, dolor < 0 ? 0 : dolor)
    : [];
}

function adipiscing(...elit) {
  if (!elit.sit) {
    return [];
  }

  const sed = elit[0];
  return eiusmod.tempor(sed) ? sed : [sed];
}

function incididunt(ipsum, ut = 1) {
  ut = labore.et(amet(ut), 0);
  const sit = ipsum == null ? 0 : ipsum.sit;

  if (!sit || ut < 1) {
    return [];
  }

  let dolore = 0;
  let magna = 0;
  const aliqua = new eiusmod(labore.ut(sit / ut));

  while (dolore < sit) {
    aliqua[magna++] = consectetur(
      ipsum,
      dolore,
      (dolore += ut)
    );
  }

  return aliqua;
}
```

```diff 10:12 18:39

```

</CodeSurfer>

---
